{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/MateBook/Desktop/look-for-image/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/MateBook/Desktop/look-for-image/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/MateBook/Desktop/look-for-image/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/MateBook/Desktop/look-for-image/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/MateBook/Desktop/look-for-image/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/MateBook/Desktop/look-for-image/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/MateBook/Desktop/look-for-image/node_modules/@babel/runtime/helpers/esm/createSuper\";import backgroundImage from\"./icons/john-towner-JgOeRuGD_Y4-unsplash.jpg\";import lupe from'./icons/loupe.png';import cross from\"./icons/letter-x.png\";import React,{useEffect}from\"react\";// const subscriptionKey = '6e79fffeadc34859b3ac41065bfda7dc';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FirstPage=/*#__PURE__*/function(_React$Component){_inherits(FirstPage,_React$Component);var _super=_createSuper(FirstPage);function FirstPage(props){var _this;_classCallCheck(this,FirstPage);_this=_super.call(this,props);_this.state={descriptions:[],hints:[]};// this.fetchAPI = this.fetchAPI.bind(this);\n_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.clearInput=_this.clearInput.bind(_assertThisInitialized(_this));return _this;}_createClass(FirstPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var inp=document.getElementById(\"contentDiv__form__input\");var eventSource=null;var value='';// fetch on hints list click\ninp.addEventListener('keydown',function(e){eventSource=e.key?'input':'list';});inp.addEventListener('input',function(e){value=e.target.value;if(eventSource==='list'){_this2.props.setMainInput(value);_this2.props.changePage();}});}},{key:\"handleChange\",value:function(){var _handleChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.props.setMainInput(event.target.value.toLowerCase());case 2:if(event.target.value.length>2){this.props.fetchAPIHints();}else{this.props.setHints([]);}case 3:case\"end\":return _context.stop();}}},_callee,this);}));function handleChange(_x){return _handleChange.apply(this,arguments);}return handleChange;}()},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();this.props.changePage();}},{key:\"clearInput\",value:function clearInput(){var inp=document.querySelector(\".contentDiv__form__input\");if(inp.value===\"\"){return;}this.props.setMainInput(\"\");inp.value=\"\";this.props.setHints([]);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"firstPageMainDiv\",id:\"firstPageMainDiv\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"backGroundImg\",alt:\"landscape\",src:backgroundImage}),/*#__PURE__*/_jsxs(\"div\",{className:\"contentDiv\",id:\"contentDiv\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"contentDiv__h1\",children:\"Look For An Image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"contentDiv__firstSubtitle\",children:\"Usplash API powered pictures browser.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"contentDiv__form\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,title:\"Search for pictures\",type:\"button\",id:\"contentDiv__form__lupeBtn\",className:\"contentDiv__form__lupeBtn\",children:/*#__PURE__*/_jsx(\"img\",{className:\"lupeIcon\",alt:\"lupe_icon\",src:lupe})}),/*#__PURE__*/_jsx(\"input\",{list:\"autocomplite\",autoComplete:\"off\",required:true,onChange:this.handleChange,id:\"contentDiv__form__input\",className:\"contentDiv__form__input\",type:\"search\",placeholder:\"Search for high-resolution photos\"}),/*#__PURE__*/_jsx(\"datalist\",{onClick:this.handleSubmit,id:\"autocomplite\",children:this.props.hints.map(function(elem){return/*#__PURE__*/_jsx(\"option\",{value:elem,children:elem},elem);})}),/*#__PURE__*/_jsx(\"button\",{title:\"Clear form\",type:\"button\",onClick:this.clearInput,id:\"contentDiv__form__clearBtn\",className:\"contentDiv__form__clearBtn\",children:/*#__PURE__*/_jsx(\"img\",{className:\"crossIcon\",alt:\"cross_icon\",src:cross})})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:this.props.hints[0]===\"No hints for choosen query\"?\" -- \"+this.props.hints[0]:null}),/*#__PURE__*/_jsx(\"p\",{className:\"contentDiv__trending\",children:\"There are available only 50 API requests per hour so this can expire quickly.\"})]})]});}}]);return FirstPage;}(React.Component);export{FirstPage as default};","map":{"version":3,"sources":["C:/Users/MateBook/Desktop/look-for-image/src/firstPage.js"],"names":["backgroundImage","lupe","cross","React","useEffect","FirstPage","props","state","descriptions","hints","handleChange","bind","handleSubmit","clearInput","inp","document","getElementById","eventSource","value","addEventListener","e","key","target","setMainInput","changePage","event","toLowerCase","length","fetchAPIHints","setHints","preventDefault","querySelector","map","elem","color","Component"],"mappings":"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","sourcesContent":["import backgroundImage from \"./icons/john-towner-JgOeRuGD_Y4-unsplash.jpg\";\r\nimport lupe from './icons/loupe.png';\r\nimport cross from \"./icons/letter-x.png\";\r\nimport React, { useEffect } from \"react\";\r\n\r\n\r\n// const subscriptionKey = '6e79fffeadc34859b3ac41065bfda7dc';\r\n\r\nexport default class FirstPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      descriptions: [],\r\n      hints: []\r\n    }\r\n    // this.fetchAPI = this.fetchAPI.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.clearInput = this.clearInput.bind(this);\r\n\r\n  }\r\n  componentDidMount(){  \r\n\r\n    const inp = document.getElementById(\"contentDiv__form__input\")\r\n    let eventSource = null;\r\n    let value = '';\r\n\r\n    // fetch on hints list click\r\n    inp.addEventListener('keydown', (e) => {\r\n      eventSource = e.key ? 'input' : 'list';\r\n    });\r\n    inp.addEventListener('input', (e) => {\r\n      value = e.target.value;\r\n      if (eventSource === 'list') {\r\n        this.props.setMainInput(value)\r\n        this.props.changePage();\r\n      }\r\n    });\r\n  }\r\n  async handleChange(event){\r\n    await this.props.setMainInput(event.target.value.toLowerCase())\r\n\r\n    if(event.target.value.length > 2){\r\n      this.props.fetchAPIHints()\r\n    } else {\r\n      this.props.setHints([])\r\n    }\r\n\r\n  }\r\n  handleSubmit(event){\r\n    event.preventDefault()\r\n    this.props.changePage()\r\n  }\r\n  clearInput(){ \r\n    const inp = document.querySelector(\".contentDiv__form__input\")\r\n    if(inp.value === \"\"){\r\n      return;\r\n    }\r\n    this.props.setMainInput(\"\")\r\n    inp.value = \"\"\r\n    this.props.setHints([])\r\n  }\r\n  render(){\r\n  return(\r\n      <div className=\"firstPageMainDiv\" id=\"firstPageMainDiv\">\r\n        <img className=\"backGroundImg\" alt=\"landscape\" src={backgroundImage} />\r\n        <div className=\"contentDiv\" id=\"contentDiv\">\r\n          <h1 className=\"contentDiv__h1\">Look For An Image</h1>\r\n          <p className=\"contentDiv__firstSubtitle\">Usplash API powered pictures browser.</p>\r\n          <form onSubmit={this.handleSubmit} className=\"contentDiv__form\">\r\n            <button onClick={this.handleSubmit} title=\"Search for pictures\" type=\"button\" id=\"contentDiv__form__lupeBtn\"  className=\"contentDiv__form__lupeBtn\" ><img className=\"lupeIcon\" alt=\"lupe_icon\" src={lupe} /></button>\r\n            <input list=\"autocomplite\" autoComplete=\"off\" required onChange={this.handleChange} id=\"contentDiv__form__input\" className=\"contentDiv__form__input\" type=\"search\" placeholder=\"Search for high-resolution photos\" />\r\n            <datalist onClick={this.handleSubmit} id=\"autocomplite\">\r\n              {this.props.hints.map(elem => {\r\n                return <option key={elem} value={elem}>{elem}</option>\r\n              }) }\r\n            </datalist>\r\n            <button title=\"Clear form\" type=\"button\" onClick={this.clearInput} id=\"contentDiv__form__clearBtn\" className=\"contentDiv__form__clearBtn\"><img className=\"crossIcon\" alt=\"cross_icon\" src={cross} /></button>\r\n          </form>\r\n          <p style={{color: \"red\"}}>{this.props.hints[0] === \"No hints for choosen query\" ? \" -- \" + this.props.hints[0] : null}</p>\r\n          <p className=\"contentDiv__trending\">There are available only 50 API requests per hour so this can expire quickly.</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}