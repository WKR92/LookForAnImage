{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MateBook\\\\Desktop\\\\look-for-image\\\\src\\\\secondPage.js\";\nimport React from 'react';\nimport OpenedImage from './openedImage';\nimport lupe from './icons/loupe.png';\nimport cross from \"./icons/letter-x.png\";\nimport arrow from './icons/arrow.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tomTomApiKey = \"MmTYW8cbCvlP0Ldmo9cUDGwEyyqEUq0G\";\nconst APIAccessKey = \"6PMB_sssC924TiZ3jPaY4Iwo4KZ0E6d6xZ0dgSbK4_g\";\nexport default class SecondPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showParticularPic: false,\n      images: [],\n      leftImages: [],\n      midImages: [],\n      rightImages: [],\n      query: props.mainInput.charAt(0).toUpperCase() + props.mainInput.slice(1),\n      picOrientation: \"\",\n      imgId: \"\",\n      smallImg: \"\",\n      rawImg: \"\",\n      name: \"\",\n      username: \"\",\n      location: \"\",\n      profileImg: \"\",\n      scrollnum: 1,\n      imgsFromScroll: [],\n      resizeImages: [],\n      hints: [],\n      tags: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearInput = this.clearInput.bind(this);\n    this.openImage = this.openImage.bind(this);\n    this.setPicData = this.setPicData.bind(this);\n    this.fetchAPI = this.fetchAPI.bind(this);\n    this.scrollUpdate = this.scrollUpdate.bind(this);\n    this.preparePicToOpen = this.preparePicToOpen.bind(this);\n    this.showOnImageInfo = this.showOnImageInfo.bind(this);\n    this.hideOnPicImageInfo = this.hideOnPicImageInfo.bind(this);\n    this.fetchApiHints = this.fetchApiHints.bind(this);\n    this.handleArrow = this.handleArrow.bind(this);\n  }\n\n  fetchAPI(page, inpValue) {\n    fetch(\"https://api.unsplash.com/search/photos/?\" + \"&client_id=\" + APIAccessKey + \"&query=\" + this.props.mainInput + \"&per_page=30\" + \"&page=\" + page).then(response => response.json()).then((data, fetchedUrls) => fetchedUrls = data.results.map(elem => [elem.urls.small, elem.urls.regular, elem.user.name, elem.user.username, elem.user.location, elem.user.profile_image.medium, elem.id, elem.alt_description, elem.tags])).then(data => this.setState({\n      images: data.length > 0 ? data : \"empty\"\n    })).then(data => this.setState({\n      leftImages: this.state.images === \"empty\" ? this.state.leftImages : this.state.leftImages.concat(this.state.images.filter(function (_, i) {\n        return i % 3 === 0;\n      }))\n    })).then(data => this.setState({\n      midImages: this.state.images === \"empty\" ? this.state.midImages : this.state.midImages.concat(this.state.images.slice(2).filter(function (_, i) {\n        return i % 3 === 0;\n      }))\n    })).then(data => this.setState({\n      rightImages: this.state.images === \"empty\" ? this.state.rightImages : this.state.rightImages.concat(this.state.images.slice(1).filter(function (_, i) {\n        return i % 3 === 0;\n      }))\n    })).then(data => this.setState({\n      resizeImages: this.state.images === \"empty\" ? this.state.resizeImages : this.state.resizeImages.concat(this.state.images)\n    })).then(gettags => taglist = this.state.images.map(elem => elem[8].length > 1 ? elem[8][1] : null)), then().then(data => this.setState({\n      tags: data\n    })).catch(err => console.log(err));\n  }\n\n  scrollUpdate() {\n    if (this.state.showParticularPic === true || this.state.images === \"empty\") {\n      return;\n    }\n\n    const lastDiv = document.querySelector(\".secondPage__imagesContainer\");\n\n    if (lastDiv.getBoundingClientRect().bottom - 1 < window.innerHeight) {\n      this.fetchAPI(this.state.scrollnum + 1);\n      this.setState({\n        scrollnum: this.state.scrollnum + 1\n      });\n    }\n  }\n\n  showOnImageInfo(event) {\n    this.setPicData(event);\n    const id = event.target.id;\n    const userInfoDiv = document.getElementById(\"onImg__innerInfoDiv\" + id);\n    const resizeUserInfoDiv = document.getElementById(\"resize__onImg__innerInfoDiv\" + id);\n    userInfoDiv.style[\"display\"] = \"flex\";\n    resizeUserInfoDiv.style[\"display\"] = \"flex\";\n  }\n\n  hideOnPicImageInfo(event) {\n    const id = event.target.id;\n    const userInfoDiv = document.getElementById(\"onImg__innerInfoDiv\" + id);\n    const resizeUserInfoDiv = document.getElementById(\"resize__onImg__innerInfoDiv\" + id);\n    userInfoDiv.style[\"display\"] = \"none\";\n    resizeUserInfoDiv.style[\"display\"] = \"none\";\n  }\n\n  componentDidMount() {\n    this.fetchAPI(1); // scroll function\n\n    window.addEventListener('scroll', this.scrollUpdate); // fetch on options list click\n\n    const inp = document.getElementById(\"secondPage__form__search\");\n    let eventSource = null;\n    let value = '';\n    inp.addEventListener('keydown', e => {\n      eventSource = e.key ? 'input' : 'list';\n    });\n    inp.addEventListener('input', e => {\n      value = e.target.value;\n\n      if (eventSource === 'list') {\n        this.setState({\n          images: [],\n          leftImages: [],\n          midImages: [],\n          rightImages: [],\n          resizeImages: []\n        });\n        this.props.setMainInput(value);\n        this.setState({\n          query: value\n        });\n        this.fetchAPI(1);\n      }\n    });\n  }\n\n  async handleChange(event) {\n    await this.props.setMainInput(event.target.value);\n\n    if (event.target.value.length > 2) {\n      this.fetchApiHints();\n    } else {\n      this.setState({\n        hints: []\n      });\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(this.state.images[0][8]);\n    console.log(this.state.tags);\n    this.setState({\n      images: [],\n      leftImages: [],\n      midImages: [],\n      rightImages: [],\n      resizeImages: []\n    });\n    this.fetchAPI(1);\n    const upperCaseInputFirstChar = this.props.mainInput.charAt(0).toUpperCase() + this.props.mainInput.slice(1);\n    this.setState({\n      query: upperCaseInputFirstChar\n    });\n  }\n\n  clearInput() {\n    const inp = document.querySelector(\".secondPage__form__search\");\n\n    if (inp.value === \"\") {\n      return;\n    }\n\n    this.props.setMainInput(\"\");\n    inp.value = \"\";\n  }\n\n  openImage(event) {\n    this.setState({\n      showParticularPic: !this.state.showParticularPic\n    });\n  }\n\n  setPicData(event) {\n    const pic = [];\n    const id = event.target.id;\n    const picContainer = event.target.className;\n\n    if (picContainer === \"leftImg\") {\n      this.state.leftImages.map(elem => elem.includes(id) ? pic.push(elem) : null);\n    } else if (picContainer === \"midImg\") {\n      this.state.midImages.map(elem => elem.includes(id) ? pic.push(elem) : null);\n    } else if (picContainer === \"rightImg\") {\n      this.state.rightImages.map(elem => elem.includes(id) ? pic.push(elem) : null);\n    } else if (picContainer === \"resizeImg\") {\n      this.state.resizeImages.map(elem => elem.includes(id) ? pic.push(elem) : null);\n    }\n\n    this.setState({\n      imgId: pic[0][6],\n      rawImg: pic[0][1],\n      name: pic[0][2],\n      username: pic[0][3],\n      location: pic[0][4],\n      profileImg: pic[0][5]\n    });\n  }\n\n  preparePicToOpen(event) {\n    this.setPicData(event);\n    const picWidth = event.target.width;\n    const picHeight = event.target.height;\n\n    if (picWidth >= picHeight) {\n      this.setState({\n        picOrientation: \"horizontal\"\n      });\n    } else {\n      this.setState({\n        picOrientation: \"vertical\"\n      });\n    }\n\n    this.openImage();\n  }\n\n  fetchApiHints() {\n    const regex = new RegExp(`${this.props.mainInput}`);\n    fetch(\"https://api.tomtom.com/search/\" + \"2\" + \"/autocomplete/\" + this.props.mainInput + \".\" + \"json\" + \"?key=\" + tomTomApiKey + \"&language=en-GB\" + \"&limit=8\").then(res => res.json()).then((data, fetchedDesriptions) => fetchedDesriptions = data.results.map(elem => elem.segments[0].value.toLowerCase())).then((data, setData) => setData = [...new Set(data)]).then((data, filteredData) => filteredData = data.filter(elem => elem.match(regex))).then((data, clearedData) => clearedData = data.filter(elem => elem !== this.props.mainInput)).then(data => this.setState({\n      hints: data.length < 1 ? [\"No hints for choosen query\"] : data\n    })).catch(err => this.setState({\n      hints: []\n    }));\n  }\n\n  handleArrow() {\n    this.props.changePage();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"secondPageMainDiv\",\n      id: \"secondPageMainDiv\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: this.handleArrow,\n        alt: \"left_arrow_icon\",\n        src: arrow,\n        title: \"Go back\",\n        className: \"arrowBack\",\n        id: \"arrowBack\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"secondPage__form\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleSubmit,\n          title: \"Search for pictures\",\n          type: \"button\",\n          className: \"secondPage__form__lupeBtn\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"lupeIcon\",\n            alt: \"lupe_icon\",\n            src: lupe\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 128\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          list: \"autocomplite\",\n          autoComplete: \"off\",\n          title: \"Search for pictures\",\n          required: true,\n          onChange: this.handleChange,\n          placeholder: \"Search...\",\n          id: \"secondPage__form__search\",\n          className: \"secondPage__form__search\",\n          type: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n          id: \"autocomplite\",\n          children: this.state.hints.map(elem => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: elem,\n              children: elem\n            }, elem, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 24\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          title: \"Clear form\",\n          type: \"button\",\n          onClick: this.clearInput,\n          className: \"secondPage__form__clearBtn\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"crossIcon\",\n            alt: \"cross_icon\",\n            src: cross\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 117\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alertDiv\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alertP\",\n          children: this.state.hints[0] === \"No hints for choosen query\" ? \" -- \" + this.state.hints[0] : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"secondPage__h1\",\n        children: this.state.query\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mianTagsHolder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"secondPage__imagesContainer\",\n        id: \"secondPage__imagesContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resizeImagesDiv\",\n          id: \"resizeImagesDiv\",\n          children: this.state.resizeImages.length > 0 ? this.state.resizeImages.map(elem => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resizeImageHolder\",\n              id: \"resizeImageHolder\" + elem[6],\n              onClick: this.preparePicToOpen,\n              imgid: elem[6],\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                onMouseEnter: this.showOnImageInfo,\n                onMouseLeave: this.hideOnPicImageInfo,\n                id: elem[6],\n                className: \"resizeImg\",\n                alt: elem[7],\n                src: elem[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resize__onImg__innerInfoDiv\",\n                id: \"resize__onImg__innerInfoDiv\" + elem[6],\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"resize__onImg__profile_photo\",\n                  alt: \"profile_photo\",\n                  src: this.state.profileImg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"resize__onImg__userInfoDiv\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"resize__onImg__nameP\",\n                    children: this.state.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this)]\n            }, elem[6], true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: \"red\"\n            },\n            children: \"No results for given queries. Try with another ones.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftImagesDiv\",\n          id: \"leftImagesDiv\",\n          children: this.state.leftImages.length > 0 ? this.state.leftImages.map(elem => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"leftImageHolder\",\n              id: \"leftImageHolder\" + elem[6],\n              onClick: this.preparePicToOpen,\n              imgid: elem[6],\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                onMouseEnter: this.showOnImageInfo,\n                onMouseLeave: this.hideOnPicImageInfo,\n                id: elem[6],\n                className: \"leftImg\",\n                alt: elem[7],\n                src: elem[0],\n                title: elem[7]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"onImg__innerInfoDiv\",\n                id: \"onImg__innerInfoDiv\" + elem[6],\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"onImg__profile_photo\",\n                  alt: \"profile_photo\",\n                  src: this.state.profileImg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"onImg__userInfoDiv\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"onImg__nameP\",\n                    children: this.state.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this)]\n            }, elem[6], true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: \"red\"\n            },\n            children: \"No results for given queries. Try with another ones.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"midImagesDiv\",\n          id: \"midImagesDiv\",\n          children: this.state.midImages.map(elem => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"midImageHolder\",\n              id: \"midImageHolder\" + elem[6],\n              onClick: this.preparePicToOpen,\n              imgid: elem[6],\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                onMouseEnter: this.showOnImageInfo,\n                onMouseLeave: this.hideOnPicImageInfo,\n                id: elem[6],\n                className: \"midImg\",\n                alt: elem[7],\n                src: elem[0],\n                title: elem[7]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"onImg__innerInfoDiv\",\n                id: \"onImg__innerInfoDiv\" + elem[6],\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"onImg__profile_photo\",\n                  alt: \"profile_photo\",\n                  src: this.state.profileImg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"onImg__userInfoDiv\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"onImg__nameP\",\n                    children: this.state.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this)]\n            }, elem[6], true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rightImagesDiv\",\n          id: \"rightImagesDiv\",\n          children: this.state.rightImages.map(elem => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rightImageHolder\",\n              id: \"rightImageHolder\" + elem[6],\n              onClick: this.preparePicToOpen,\n              imgid: elem[6],\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                onMouseEnter: this.showOnImageInfo,\n                onMouseLeave: this.hideOnPicImageInfo,\n                id: elem[6],\n                className: \"rightImg\",\n                alt: elem[7],\n                title: elem[7],\n                src: elem[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"onImg__innerInfoDiv\",\n                id: \"onImg__innerInfoDiv\" + elem[6],\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"onImg__profile_photo\",\n                  alt: \"profile_photo\",\n                  src: this.state.profileImg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"onImg__userInfoDiv\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"onImg__nameP\",\n                    children: this.state.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this)]\n            }, elem[6], true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), this.state.images === \"empty\" && this.state.leftImages.length > 1 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"noMoreImgs\",\n        children: [\"No more photos to display for '\", this.props.mainInput, \"' query.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 78\n      }, this) : null, this.state.showParticularPic ? /*#__PURE__*/_jsxDEV(OpenedImage, {\n        id: this.state.imgId,\n        rawImg: this.state.rawImg,\n        openImage: this.openImage,\n        name: this.state.name,\n        username: this.state.username,\n        location: this.state.location,\n        profileImg: this.state.profileImg,\n        picOrientation: this.state.picOrientation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 41\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/MateBook/Desktop/look-for-image/src/secondPage.js"],"names":["React","OpenedImage","lupe","cross","arrow","tomTomApiKey","APIAccessKey","SecondPage","Component","constructor","props","state","showParticularPic","images","leftImages","midImages","rightImages","query","mainInput","charAt","toUpperCase","slice","picOrientation","imgId","smallImg","rawImg","name","username","location","profileImg","scrollnum","imgsFromScroll","resizeImages","hints","tags","handleChange","bind","handleSubmit","clearInput","openImage","setPicData","fetchAPI","scrollUpdate","preparePicToOpen","showOnImageInfo","hideOnPicImageInfo","fetchApiHints","handleArrow","page","inpValue","fetch","then","response","json","data","fetchedUrls","results","map","elem","urls","small","regular","user","profile_image","medium","id","alt_description","setState","length","concat","filter","_","i","gettags","taglist","catch","err","console","log","lastDiv","document","querySelector","getBoundingClientRect","bottom","window","innerHeight","event","target","userInfoDiv","getElementById","resizeUserInfoDiv","style","componentDidMount","addEventListener","inp","eventSource","value","e","key","setMainInput","preventDefault","upperCaseInputFirstChar","pic","picContainer","className","includes","push","picWidth","width","picHeight","height","regex","RegExp","res","fetchedDesriptions","segments","toLowerCase","setData","Set","filteredData","match","clearedData","changePage","render","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport OpenedImage from './openedImage';\r\nimport lupe from './icons/loupe.png';\r\nimport cross from \"./icons/letter-x.png\";\r\nimport arrow from './icons/arrow.png'\r\n\r\nconst tomTomApiKey = \"MmTYW8cbCvlP0Ldmo9cUDGwEyyqEUq0G\"\r\nconst APIAccessKey = \"6PMB_sssC924TiZ3jPaY4Iwo4KZ0E6d6xZ0dgSbK4_g\";\r\n\r\nexport default class SecondPage extends React.Component{\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        showParticularPic: false,\r\n        images: [],\r\n        leftImages: [],\r\n        midImages: [],\r\n        rightImages: [],\r\n        query: props.mainInput.charAt(0).toUpperCase() + props.mainInput.slice(1),\r\n        picOrientation: \"\",\r\n        imgId: \"\",\r\n        smallImg: \"\",\r\n        rawImg: \"\",\r\n        name: \"\",\r\n        username: \"\",\r\n        location: \"\",\r\n        profileImg: \"\",\r\n        scrollnum: 1,\r\n        imgsFromScroll: [],\r\n        resizeImages: [],\r\n        hints: [],\r\n        tags: []\r\n      }\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n      this.clearInput = this.clearInput.bind(this);\r\n      this.openImage = this.openImage.bind(this);\r\n      this.setPicData = this.setPicData.bind(this);\r\n      this.fetchAPI = this.fetchAPI.bind(this);\r\n      this.scrollUpdate = this.scrollUpdate.bind(this);\r\n      this.preparePicToOpen = this.preparePicToOpen.bind(this);\r\n      this.showOnImageInfo = this.showOnImageInfo.bind(this);\r\n      this.hideOnPicImageInfo = this.hideOnPicImageInfo.bind(this);\r\n      this.fetchApiHints = this.fetchApiHints.bind(this);\r\n      this.handleArrow = this.handleArrow.bind(this);\r\n    }\r\n    fetchAPI(page, inpValue){\r\n  \r\n      fetch(\"https://api.unsplash.com/search/photos/?\"\r\n      + \"&client_id=\" + APIAccessKey\r\n      + \"&query=\" + this.props.mainInput\r\n      + \"&per_page=30\"\r\n      + \"&page=\" + page\r\n      )\r\n      .then(response => response.json())\r\n      .then((data, fetchedUrls) => fetchedUrls = data.results.map(elem => [elem.urls.small, elem.urls.regular, elem.user.name,\r\n      elem.user.username, elem.user.location, elem.user.profile_image.medium, elem.id, elem.alt_description, elem.tags]))\r\n      .then(data => this.setState({images: data.length > 0 ? data : \"empty\"}))\r\n      .then(data => this.setState({leftImages: this.state.images === \"empty\" ? this.state.leftImages\r\n       : this.state.leftImages.concat(this.state.images.filter((function(_, i){return i % 3 === 0})))}))\r\n      .then(data => this.setState({midImages: this.state.images === \"empty\" ? this.state.midImages \r\n      :this.state.midImages.concat(this.state.images.slice(2).filter((function(_, i){return i % 3 === 0})))}))\r\n      .then(data => this.setState({rightImages: this.state.images === \"empty\" ? this.state.rightImages \r\n      :this.state.rightImages.concat(this.state.images.slice(1).filter((function(_, i){return i % 3 === 0})))}))\r\n      .then(data => this.setState({resizeImages: this.state.images === \"empty\" ? this.state.resizeImages \r\n      :this.state.resizeImages.concat(this.state.images)}))\r\n      .then(gettags => taglist = this.state.images.map(elem => elem[8].length > 1 ? elem[8][1] : null))\r\n      ,then()\r\n      .then( data => this.setState({tags: data}))\r\n      .catch(err => console.log(err))\r\n    }\r\n    scrollUpdate(){\r\n      if(this.state.showParticularPic === true || this.state.images === \"empty\"){\r\n        return;\r\n      }\r\n      const lastDiv = document.querySelector(\".secondPage__imagesContainer\")\r\n      if(lastDiv.getBoundingClientRect().bottom -1 < window.innerHeight){\r\n        this.fetchAPI(this.state.scrollnum + 1);\r\n        this.setState({\r\n          scrollnum: this.state.scrollnum + 1\r\n        })\r\n      }\r\n    }\r\n    showOnImageInfo(event){\r\n\r\n      this.setPicData(event)\r\n      \r\n      const id = event.target.id\r\n      const userInfoDiv = document.getElementById(\"onImg__innerInfoDiv\"+id)\r\n      const resizeUserInfoDiv = document.getElementById(\"resize__onImg__innerInfoDiv\"+id)\r\n      \r\n      userInfoDiv.style[\"display\"] = \"flex\";\r\n      resizeUserInfoDiv.style[\"display\"] = \"flex\";\r\n    }\r\n    hideOnPicImageInfo(event){\r\n      \r\n      const id = event.target.id\r\n      const userInfoDiv = document.getElementById(\"onImg__innerInfoDiv\"+id)\r\n      const resizeUserInfoDiv = document.getElementById(\"resize__onImg__innerInfoDiv\"+id)\r\n      userInfoDiv.style[\"display\"] = \"none\";\r\n      resizeUserInfoDiv.style[\"display\"] = \"none\";\r\n    }\r\n    componentDidMount(){\r\n  \r\n      this.fetchAPI(1)\r\n  \r\n      // scroll function\r\n      window.addEventListener('scroll', this.scrollUpdate)\r\n\r\n\r\n      // fetch on options list click\r\n      const inp = document.getElementById(\"secondPage__form__search\")\r\n      let eventSource = null;\r\n      let value = '';\r\n\r\n      inp.addEventListener('keydown', (e) => {\r\n        eventSource = e.key ? 'input' : 'list';\r\n      });\r\n      inp.addEventListener('input', (e) => {\r\n        value = e.target.value;\r\n        if (eventSource === 'list') {\r\n          this.setState({\r\n            images: [],\r\n            leftImages: [],\r\n            midImages: [],\r\n            rightImages: [],\r\n            resizeImages: []\r\n          })\r\n          this.props.setMainInput(value)\r\n          this.setState({query: value})\r\n          this.fetchAPI(1)\r\n        }\r\n      });\r\n\r\n    }\r\n    async handleChange(event){\r\n      await this.props.setMainInput(event.target.value)\r\n\r\n      if(event.target.value.length > 2){\r\n        this.fetchApiHints()        \r\n      } else {\r\n        this.setState({hints: []})\r\n      }\r\n    }\r\n    handleSubmit(event){\r\n      event.preventDefault();\r\n\r\n      console.log(this.state.images[0][8])\r\n      console.log(this.state.tags)\r\n  \r\n      this.setState({\r\n        images: [],\r\n        leftImages: [],\r\n        midImages: [],\r\n        rightImages: [],\r\n        resizeImages: []\r\n      })\r\n      this.fetchAPI(1)\r\n  \r\n      const upperCaseInputFirstChar = this.props.mainInput.charAt(0).toUpperCase() + this.props.mainInput.slice(1);\r\n      this.setState({\r\n        query: upperCaseInputFirstChar\r\n      })\r\n    }\r\n    clearInput(){ \r\n      const inp = document.querySelector(\".secondPage__form__search\")\r\n      if(inp.value === \"\"){\r\n        return;\r\n      }\r\n      this.props.setMainInput(\"\")\r\n      inp.value = \"\"\r\n    }\r\n    openImage(event){\r\n      this.setState({\r\n        showParticularPic: !this.state.showParticularPic\r\n      })\r\n    }\r\n    setPicData(event){\r\n      const pic = []\r\n      const id = event.target.id\r\n      const picContainer = event.target.className\r\n      if(picContainer === \"leftImg\"){\r\n        this.state.leftImages.map(elem => elem.includes(id) ? pic.push(elem) : null)\r\n      } \r\n      else if (picContainer === \"midImg\"){\r\n        this.state.midImages.map(elem => elem.includes(id) ? pic.push(elem) : null)\r\n      }\r\n      else if (picContainer === \"rightImg\"){\r\n        this.state.rightImages.map(elem => elem.includes(id) ? pic.push(elem) : null)\r\n      }\r\n      else if (picContainer === \"resizeImg\"){\r\n        this.state.resizeImages.map(elem => elem.includes(id) ? pic.push(elem) : null)\r\n      }\r\n      \r\n      this.setState({\r\n        imgId: pic[0][6],\r\n        rawImg: pic[0][1],\r\n        name: pic[0][2],\r\n        username: pic[0][3],\r\n        location: pic[0][4],\r\n        profileImg: pic[0][5]\r\n      })\r\n    }\r\n    preparePicToOpen(event){\r\n  \r\n      this.setPicData(event)\r\n  \r\n      const picWidth = event.target.width\r\n      const picHeight = event.target.height\r\n  \r\n      if(picWidth >= picHeight){\r\n        this.setState({\r\n          picOrientation: \"horizontal\"\r\n        }) \r\n      }else{\r\n        this.setState({\r\n          picOrientation: \"vertical\"\r\n        }) \r\n      }\r\n  \r\n      this.openImage()\r\n    }\r\n    fetchApiHints(){\r\n      const regex = new RegExp(`${this.props.mainInput}`)\r\n      fetch(\"https://api.tomtom.com/search/\"\r\n        + \"2\"\r\n        + \"/autocomplete/\"\r\n        + this.props.mainInput\r\n        + \".\"\r\n        + \"json\"\r\n        + \"?key=\" + tomTomApiKey\r\n        + \"&language=en-GB\"\r\n        + \"&limit=8\")\r\n        .then(res => res.json())\r\n        .then((data, fetchedDesriptions) => fetchedDesriptions = data.results.map(elem => elem.segments[0].value.toLowerCase()))\r\n        .then((data, setData) => setData = [...new Set(data)])\r\n        .then((data, filteredData) => filteredData = data.filter(elem => elem.match(regex)))\r\n        .then((data, clearedData) => clearedData = data.filter(elem => elem !== this.props.mainInput))\r\n        .then((data) => this.setState({hints: data.length < 1 ? [\"No hints for choosen query\"] : data}))\r\n        .catch(err => this.setState({hints: []}))\r\n    }\r\n    handleArrow(){\r\n      this.props.changePage()\r\n    }\r\n    render(){\r\n    return(\r\n      <div className=\"secondPageMainDiv\" id=\"secondPageMainDiv\">\r\n        <img onClick={this.handleArrow} alt=\"left_arrow_icon\" src={arrow} title=\"Go back\" className=\"arrowBack\" id=\"arrowBack\" />\r\n        <form className=\"secondPage__form\" onSubmit={this.handleSubmit}>\r\n          <button onClick={this.handleSubmit} title=\"Search for pictures\" type=\"button\" className=\"secondPage__form__lupeBtn\" ><img className=\"lupeIcon\" alt=\"lupe_icon\" src={lupe} /></button>\r\n          <input list=\"autocomplite\" autoComplete=\"off\" title=\"Search for pictures\" required onChange={this.handleChange} placeholder=\"Search...\" id=\"secondPage__form__search\" className=\"secondPage__form__search\" type=\"search\" />\r\n          <datalist id=\"autocomplite\">\r\n              {this.state.hints.map(elem => {\r\n                return <option key={elem} value={elem}>{elem}</option>\r\n              })}\r\n            </datalist>\r\n          <button title=\"Clear form\" type=\"button\" onClick={this.clearInput} className=\"secondPage__form__clearBtn\"><img className=\"crossIcon\" alt=\"cross_icon\" src={cross} /></button>\r\n        </form>\r\n        <div className=\"alertDiv\">\r\n          <p className=\"alertP\">{this.state.hints[0] === \"No hints for choosen query\" ? \" -- \" + this.state.hints[0] : null}</p>\r\n        </div>\r\n        <h1 className=\"secondPage__h1\">{this.state.query}</h1>\r\n\r\n        <div className=\"mianTagsHolder\">\r\n        {/* {this.state.images.length > 0 ? this.state.images.map(elem => {\r\n                return elem[8] !== [] && elem[8][0].length > 0 ? <div><p>{elem[8][0].title}</p></div> : null\r\n              }) : null} */}\r\n        </div>\r\n        <div className=\"secondPage__imagesContainer\" id=\"secondPage__imagesContainer\">\r\n  \r\n          {/* just for resize */}\r\n          <div className=\"resizeImagesDiv\" id=\"resizeImagesDiv\">\r\n            {this.state.resizeImages.length > 0 ? this.state.resizeImages.map(elem => {\r\n                return (\r\n                  <div className=\"resizeImageHolder\" id={\"resizeImageHolder\"+elem[6]} onClick={this.preparePicToOpen} key={elem[6]} imgid={elem[6]}>\r\n                  <img onMouseEnter={this.showOnImageInfo} onMouseLeave={this.hideOnPicImageInfo} id={elem[6]} className=\"resizeImg\" alt={elem[7]} src={elem[0]} />\r\n                    <div className=\"resize__onImg__innerInfoDiv\" id={\"resize__onImg__innerInfoDiv\"+elem[6]}>\r\n                      <img className=\"resize__onImg__profile_photo\" alt=\"profile_photo\" src={this.state.profileImg} />\r\n                      <div className=\"resize__onImg__userInfoDiv\">\r\n                        <p className=\"resize__onImg__nameP\">{this.state.name}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              }) : <h2 style={{color: \"red\"}}>No results for given queries. Try with another ones.</h2> }\r\n          </div>\r\n          <div className=\"leftImagesDiv\" id=\"leftImagesDiv\">\r\n  \r\n            {this.state.leftImages.length > 0 ? this.state.leftImages.map(elem => {\r\n              return (\r\n                <div className=\"leftImageHolder\" id={\"leftImageHolder\"+elem[6]} onClick={this.preparePicToOpen} key={elem[6]} imgid={elem[6]}>\r\n                  <img onMouseEnter={this.showOnImageInfo} onMouseLeave={this.hideOnPicImageInfo} id={elem[6]} className=\"leftImg\" alt={elem[7]} src={elem[0]} title={elem[7]} />\r\n                  <div className=\"onImg__innerInfoDiv\" id={\"onImg__innerInfoDiv\"+elem[6]}>\r\n                    <img className=\"onImg__profile_photo\" alt=\"profile_photo\" src={this.state.profileImg} />\r\n                    <div className=\"onImg__userInfoDiv\">\r\n                      <p className=\"onImg__nameP\">{this.state.name}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            }) : <h2 style={{color: \"red\"}}>No results for given queries. Try with another ones.</h2> }\r\n          </div>\r\n          <div className=\"midImagesDiv\" id=\"midImagesDiv\">\r\n            {this.state.midImages.map(elem => {\r\n                return (\r\n                  <div className=\"midImageHolder\" id={\"midImageHolder\"+elem[6]} onClick={this.preparePicToOpen} key={elem[6]} imgid={elem[6]}>\r\n                    <img onMouseEnter={this.showOnImageInfo} onMouseLeave={this.hideOnPicImageInfo} id={elem[6]} className=\"midImg\" alt={elem[7]} src={elem[0]} title={elem[7]} />\r\n                    <div className=\"onImg__innerInfoDiv\" id={\"onImg__innerInfoDiv\"+elem[6]}>\r\n                      <img className=\"onImg__profile_photo\" alt=\"profile_photo\" src={this.state.profileImg} />\r\n                      <div className=\"onImg__userInfoDiv\">\r\n                        <p className=\"onImg__nameP\">{this.state.name}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n          </div>\r\n          <div className=\"rightImagesDiv\" id=\"rightImagesDiv\">\r\n            {this.state.rightImages.map(elem => {\r\n                return (\r\n                <div className=\"rightImageHolder\" id={\"rightImageHolder\"+elem[6]} onClick={this.preparePicToOpen} key={elem[6]} imgid={elem[6]}>\r\n                  <img onMouseEnter={this.showOnImageInfo} onMouseLeave={this.hideOnPicImageInfo} id={elem[6]} className=\"rightImg\" alt={elem[7]} title={elem[7]} src={elem[0]} />\r\n                  <div className=\"onImg__innerInfoDiv\" id={\"onImg__innerInfoDiv\"+elem[6]}>\r\n                    <img className=\"onImg__profile_photo\" alt=\"profile_photo\" src={this.state.profileImg} />\r\n                    <div className=\"onImg__userInfoDiv\">\r\n                      <p className=\"onImg__nameP\">{this.state.name}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                )\r\n              })}\r\n          </div>\r\n        </div>\r\n        {this.state.images === \"empty\" && this.state.leftImages.length > 1 ? <p id=\"noMoreImgs\">No more photos to display for '{this.props.mainInput}' query.</p> : null}\r\n        {this.state.showParticularPic ? <OpenedImage id={this.state.imgId} rawImg={this.state.rawImg} openImage={this.openImage}\r\n        name={this.state.name} username={this.state.username} location={this.state.location} profileImg={this.state.profileImg} \r\n        picOrientation={this.state.picOrientation}/> : null}\r\n      </div>\r\n    )}\r\n  }"]},"metadata":{},"sourceType":"module"}